<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta http-equiv="Content-Type" content=
  "text/html; charset=utf-8">

  <title>Propensity Score Matching</title>
  <style type="text/css">

  <!-- 

  H1 {font-weight:bold; color:#006699; font-size:125%; }
  H2 {font-weight:bold; color:#006699; font-size:110%; }
  TABLE {font-size:100%;}

  /* paragraph tags */
  .step {text-indent: -1.3em; margin-left:1.3em; margin-top: 0px;}
  .menuselection {margin-left:10px}
  .bullet {list-style-type: disc;margin-top:12px; margin-left:36px; text-indent:-1em; }
  .codeblock {background-color: #ffffe6; display:block; margin-left:5px; padding:5px;}

  /* inline tags */
  .screen {font-weight:bold; color:#408080}                       /*** used refer to on-screen text ***/
  .name {font-style: italic}                                                       /*** used to tag names, such as variable names, file names, and so forth ***/
  .runinhead {font-weight: bold} 
  .superscript {vertical-align:super; font-size:80%}
  .subscript {vertical-align:sub; font-size:80%}


  --> 
  </style>
</head>

<body>
  <h1>Propensity Score Matching</h1>This procedure matches case
  records with similar control records contained in a single
  dataset. It first runs a logistic regression with the
  case/control group variable as the dependent variable. Then it
  selects a match for each case from the control group based on the
  propensity score from the logistic regression. The score is an
  estimate of the probability of membership in the case group.

  <p>The procedure produces and activates a new dataset of cases
  and matched controls.</p>

  <p><span class="runinhead">Group Indicator</span> Select the
  variable that defines whether a record is in the case or control
  group. A variable value of one indicates a case, and a value of
  zero indicates a control.</p>

  <p><span class="runinhead">Predictors</span> Select the variables
  to be used in the logistic regression to model case/control
  membership.</p>

  <p><span class="runinhead">Name for Propensity Variable</span>
  Enter a name for the variable to hold the score (propensity) from
  the logistic regression. This variable will be used for
  matching.</p>

  <p class="bullet">• The variable name must not already be in
  use.</p>

  <p><span class="runinhead">Match Tolerance</span> Specify the
  tolerance for the score in matching cases and controls. A control
  is eligible to match a case if the absolute value of the
  difference in the propensity scores is less than or equal to this
  value. A value of 0 means exact matches only while a value of 1
  means any control would match any case. Smaller values produce
  closer matches but may increase the number of unmatched
  cases.</p>

  <p class="bullet">• The output tables produced by this procedure
  show the distribution of the number of eligible matches given the
  tolerance and can be useful in choosing a tolerance value.</p>

  <p><span class="runinhead">Case ID</span> Specify a case
  identifier variable. The Case id value for the matched control
  will be stored with each case record.</p>

  <p><span class="runinhead">Match ID Variable Name</span> Specify
  a name for the variable that will hold the id of the selected
  control record. If a match cannot be produced, the variable value
  will be system missing.</p>

  <p class="bullet">• The variable name must not already be in
  use.</p>

  <p><span class="runinhead">Output Dataset Name</span> Specify a
  name for the dataset to be created. The dataset will hold all the
  cases and the controls that were matched with them.</p>

  <p class="bullet">• The dataset name must not already be in
  use.</p>

  <p class="bullet">• The output is a dataset, not a permanent
  file. You must save the dataset to create an actual file.</p>

  <h2>Options</h2>

  <p><span class="runinhead">Variable for Number of Eligible
  Cases</span> Optionally, enter a variable name to record the size
  of the control pool, i.e., the number of eligible cases, for each
  case record. This is the number of controls that meet the
  matching criteria after matches for previous case records have
  been removed, if sampling without replacement.</p>

  <p class="bullet">• The variable name must not already be in
  use</p>

  <p><span class="runinhead">Sampling</span> Control cases can be
  drawn with or without replacement.</p>

  <p><span class="runinhead">Give priority to exact matches</span>
  Check this box to cause the matching algorithm to try first for
  an exact match before trying for a fuzzy match.</p>

  <p><span class="runinhead">Maximize execution performance</span>
  Check this box to maximize performance in selecting matches -
  maximum speed and minimum memory usage. For large datasets this
  box should be checked. When it is used, there is a slightly
  greater chance that a case will not find be matched with a
  control.</p>

  <p class="bullet">• You cannot specify both exact priority and
  minimize memory.</p>

  <p><span class="runinhead">Randomize case order when drawing
  matches</span> Check this to draw matches for the case records in
  random order. Otherwise, the case records are processed in the
  order in which they occur in the file. This could result in fewer
  controls to select from later in the file. If the case records
  have a systematic order, processing in file order could introduce
  some bias.</p>

  <p class="bullet">• This has no effect when maximize execution
  performance is checked.</p>

  <p><span class="runinhead">Random Number Seed</span> If you want
  to be able to reproduce the matches exactly on a future run with
  the same data, you can set a seed value for the random numbers
  used when picking from a set at random. This seed is not related
  to the general SPSS Statistics random number seed.</p>

  <h2>Additional Features</h2>

  <p>This dialog generates syntax for the FUZZY extension command
  as well as some other code. FUZZY also provides more general ways
  to do matching. To display syntax help for FUZZY, run the
  following syntax:</p>

  <p class="codeblock">FUZZY /HELP.</p>

  <p>FUZZY has a several features not supported in this dialog,
  including using separate case and control datasets as input,
  matching on a set of variables without the intermediate logistic
  regression, and matching multiple controls with each case. Custom
  functions written in Python can also be used for calculating the
  fuzzy distance.</p>

  <h2>Requirements</h2>This command requires the Python Essentials
  and at least version 20 of IBM SPSS Statistics. For single
  dataset usage, Statistics version 21 or a hot fix for version 20
  may be required.

  <p>It requires at least version 1.3.0 of the FUZZY extension
  command. That is newer than the version shipped with Statistics
  21.0.0.0 You can download the Python Essentials from the SPSS
  Community website at www.ibm.com/developerworks/spssdevcentral.
  The latest version of FUZZY can be found in the Extension
  Commands collection.</p>
  <hr>

  <p style="font-size:80%;">
  © Copyright IBM Corp. 1989, 2013</p>
</body>
</html>
